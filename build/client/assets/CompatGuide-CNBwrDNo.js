import{w as be,a as i,p as e,v as ge}from"./chunk-ZYFC6VSF-D4nDKD-E.js";import{f as Z}from"./fishcompat-DFlmpG3F.js";function Ve(){return[{title:"Compatibility Guide | AquaPi AI"},{name:"description",content:"An interactive guide to check and edit fish compatibility data."}]}const fe=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),we=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),ve=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),_=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"})]}),je=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M9.707 4.293a1 1 0 010 1.414L5.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z",clipRule:"evenodd"})]}),oe=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),ye=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.07.022A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.022-1.07z",clipRule:"evenodd"})}),Ne=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),Ce=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),Re=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Se=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),e.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),ke=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),Fe=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2-2H9a2 2 0 01-2-2V9z"}),e.jsx("path",{d:"M4 3a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H4z"})]}),te=o=>o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),K=({title:o,list:p,listName:b,onClick:c,isSelected:d,headerClass:m})=>e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 shadow-inner flex flex-col h-full min-h-[300px]",children:[e.jsx("h4",{className:`text-lg font-bold mb-2 pb-1 border-b ${m}`,children:o}),e.jsx("ul",{className:"flex-grow overflow-y-auto space-y-1 pr-2",children:p.map(u=>e.jsx("li",{onClick:()=>c(u,b),className:`p-2 rounded-lg cursor-pointer transition-colors duration-200 ease-in-out ${d(u)?"bg-blue-600 text-white font-semibold shadow-md":"hover:bg-gray-600"}`,children:u},u))})]}),Me=({letters:o,onLetterClick:p,onScrollToTop:b})=>e.jsxs("div",{className:"fixed right-0 top-1/2 transform -translate-y-1/2 z-40 flex flex-col items-center bg-gray-900 bg-opacity-50 p-2 rounded-l-lg backdrop-blur-sm h-auto max-h-[80vh] justify-around",children:[e.jsx("button",{onClick:b,className:"text-white text-xs font-bold p-1 w-6 h-6 flex items-center justify-center hover:bg-blue-600 rounded-full transition-colors duration-200 mb-1",title:"Scroll to Top",children:e.jsx(ke,{})}),o.map(c=>e.jsx("button",{onClick:()=>p(c),className:"text-white text-xs font-bold p-1 w-6 h-6 flex items-center justify-center hover:bg-blue-600 rounded-full transition-colors duration-200",children:c},c))]}),Q=({title:o,message:p,onClose:b,onConfirm:c,showConfirm:d=!1})=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-gray-800 text-white rounded-xl shadow-2xl p-6 max-w-sm w-full mx-auto animate-fade-in-down",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 border-b border-gray-600 pb-2 text-yellow-300",children:o}),e.jsx("p",{className:"text-gray-300 mb-6",children:p}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition duration-300 ease-in-out transform hover:scale-105 shadow-md",children:"Close"}),d&&e.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition duration-300 ease-in-out transform hover:scale-105 shadow-md",children:"Confirm"})]})]})}),Le=({fish:o,onEdit:p,onDelete:b})=>{const c=d=>e.jsx("ul",{className:"list-disc list-inside text-gray-300 text-sm mt-1 space-y-1",children:d&&d.map((m,u)=>e.jsx("li",{children:m},u))});return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-700 flex flex-col transform hover:scale-105 transition-transform duration-300 ease-in-out",children:[o.imageURL&&e.jsx("img",{src:o.imageURL,alt:o.name,className:"w-full h-48 object-cover rounded-lg mb-4",onError:d=>{const m=d.target;m.onerror=null,m.src="https://placehold.co/600x400/1F2937/7C8A9E?text=Image+Not+Found"}}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-yellow-400 mb-1",children:o.name}),o.commonNames&&e.jsx("p",{className:"text-sm italic text-gray-400 mr-2",children:o.commonNames.join(", ")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(o),className:"p-2 rounded-full bg-yellow-600 text-white hover:bg-yellow-700 transition duration-300 ease-in-out transform hover:scale-110 shadow-md",title:"Edit Fish",children:e.jsx(we,{})}),e.jsx("button",{onClick:()=>b(o.id,o.name),className:"p-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition duration-300 ease-in-out transform hover:scale-110 shadow-md",title:"Delete",children:e.jsx(ve,{})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-left flex-grow",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-400 mb-1",children:"Compatible"}),c(o.compatible)]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-yellow-400 mb-1",children:"With Caution"}),c(o.caution)]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-orange-400 mb-1",children:"Not Recommended"}),c(o.notRecommended)]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-red-400 mb-1",children:"Not Compatible"}),c(o.notCompatible)]})]})]})},Ie=({onSave:o,onClose:p,activeTab:b})=>{const[c,d]=i.useState(""),[m,u]=i.useState(""),[V,B]=i.useState(""),[F,T]=i.useState(b),[I,S]=i.useState({title:"",message:"",show:!1}),O=y=>{if(y.preventDefault(),!c.trim()){S({title:"Input Required",message:"Please fill out the fish name.",show:!0});return}o(c.trim(),m.trim(),V.trim(),F)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-auto animate-fade-in-down",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-yellow-300",children:"Add a New Fish"}),e.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-600 text-white hover:bg-gray-700 transition",title:"Close",children:e.jsx(oe,{})})]}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Water Type"}),e.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-900 rounded-full shadow-inner w-full",children:[e.jsx("button",{type:"button",onClick:()=>T("freshwater"),className:`w-1/2 px-5 py-2 rounded-full font-semibold transition-all duration-300 ${F==="freshwater"?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"}`,children:"Freshwater"}),e.jsx("button",{type:"button",onClick:()=>T("saltwater"),className:`w-1/2 px-5 py-2 rounded-full font-semibold transition-all duration-300 ${F==="saltwater"?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"}`,children:"Saltwater"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fish-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Fish Name"}),e.jsx("input",{id:"fish-name",type:"text",value:c,onChange:y=>d(y.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"e.g., Neon Tetra",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"common-names",className:"block text-sm font-medium text-gray-300 mb-2",children:"Common Names (comma-separated)"}),e.jsx("input",{id:"common-names",type:"text",value:m,onChange:y=>u(y.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"e.g., Millionsfish, Rainbow fish"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image-url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL (Optional)"}),e.jsx("input",{id:"image-url",type:"text",value:V,onChange:y=>B(y.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:"Save and Edit Compatibility"})]})]})]})}),I.show&&e.jsx(Q,{title:I.title,message:I.message,onClose:()=>S({...I,show:!1})})]})},Ae=({fishData:o,freshwaterFish:p,saltwaterFish:b,activeTab:c,onSave:d,onClose:m,onCopy:u})=>{var P;const B=(c==="freshwater"?p:b).map(l=>l.name).filter(l=>l!==o.name),[F,T]=i.useState((o==null?void 0:o.name)||""),[I,S]=i.useState(((P=o==null?void 0:o.commonNames)==null?void 0:P.join(", "))||""),[O,y]=i.useState((o==null?void 0:o.imageURL)||""),[R,G]=i.useState(()=>{const l=new Set((o==null?void 0:o.compatible)||[]),j=new Set((o==null?void 0:o.caution)||[]),w=new Set((o==null?void 0:o.notRecommended)||[]),k=new Set((o==null?void 0:o.notCompatible)||[]);return{available:B.filter(C=>!l.has(C)&&!j.has(C)&&!w.has(C)&&!k.has(C)).sort(),compatible:Array.from(l).sort(),caution:Array.from(j).sort(),notRecommended:Array.from(w).sort(),notCompatible:Array.from(k).sort()}}),[A,W]=i.useState([]),[N,X]=i.useState(null),[H,$]=i.useState({title:"",message:"",show:!1}),J=(l,j)=>{X(j),W(j==="available"?w=>w.includes(l)?w.filter(k=>k!==l):[...w,l]:w=>w.length===1&&w[0]===l?[]:[l])},z=(l,j)=>{A.length===0||!l||l===j||(G(w=>{const k=[...w[l]],U=[...w[j]];return[...new Set(A)].forEach(L=>{const Y=k.indexOf(L);Y>-1&&k.splice(Y,1),U.includes(L)||U.push(L)}),{...w,[l]:k.sort(),[j]:U.sort()}}),W([]),X(null))},M=l=>{if(l.preventDefault(),!F.trim()){$({title:"Invalid Name",message:"Fish name cannot be empty.",show:!0});return}if(R.available.length>0){$({title:"Incomplete Assignment",message:"Please assign all available fish to a compatibility category before saving.",show:!0});return}const j={...o,name:F.trim(),commonNames:I.split(",").map(w=>w.trim()),imageURL:O.trim(),compatible:R.compatible,caution:R.caution,notRecommended:R.notRecommended,notCompatible:R.notCompatible};d(o,j),m()};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-6 lg:p-10 animate-fade-in",children:[e.jsxs("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-8 w-full mx-auto overflow-y-auto max-h-[90vh] animate-fade-in-down",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-3",children:[e.jsxs("h3",{className:"text-3xl font-bold text-yellow-300",children:["Edit Data for ",o.name]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>u(o),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition transform hover:scale-105 shadow-md",children:[e.jsx(Fe,{}),e.jsx("span",{children:"Duplicate"})]}),e.jsx("button",{type:"button",onClick:m,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",form:"compatibility-form",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:"Save Changes"})]})]}),e.jsxs("form",{id:"compatibility-form",onSubmit:M,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit-fish-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Fish Name"}),e.jsx("input",{id:"edit-fish-name",type:"text",value:F,onChange:l=>T(l.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit-common-names",className:"block text-sm font-medium text-gray-300 mb-2",children:"Common Names (comma-separated)"}),e.jsx("input",{id:"edit-common-names",type:"text",value:I,onChange:l=>S(l.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"e.g., Millionsfish, Rainbow fish"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit-image-url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),e.jsx("input",{id:"edit-image-url",type:"text",value:O,onChange:l=>y(l.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"Leave blank to remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(K,{title:"Available Fish",list:R.available,listName:"available",onClick:J,isSelected:l=>N==="available"&&A.includes(l),headerClass:"border-gray-500"})}),e.jsxs("div",{className:"lg:col-span-1 flex flex-row lg:flex-col items-center justify-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>z(N,"available"),className:"p-3 bg-gray-600 rounded-full text-white hover:bg-gray-700",title:"Move to Available",children:e.jsx(je,{})}),e.jsx("button",{type:"button",onClick:()=>z(N,"compatible"),className:"p-3 bg-green-600 rounded-full text-white hover:bg-green-700",title:"Move to Compatible",children:e.jsx(_,{})}),e.jsx("button",{type:"button",onClick:()=>z(N,"caution"),className:"p-3 bg-yellow-600 rounded-full text-white hover:bg-yellow-700",title:"Move to With Caution",children:e.jsx(_,{})}),e.jsx("button",{type:"button",onClick:()=>z(N,"notRecommended"),className:"p-3 bg-orange-600 rounded-full text-white hover:bg-orange-700",title:"Move to Not Recommended",children:e.jsx(_,{})}),e.jsx("button",{type:"button",onClick:()=>z(N,"notCompatible"),className:"p-3 bg-red-600 rounded-full text-white hover:bg-red-700",title:"Move to Not Compatible",children:e.jsx(_,{})})]}),e.jsxs("div",{className:"lg:col-span-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(K,{title:"Compatible",list:R.compatible,listName:"compatible",onClick:J,isSelected:l=>N==="compatible"&&A.includes(l),headerClass:"text-green-400 border-green-800"}),e.jsx(K,{title:"With Caution",list:R.caution,listName:"caution",onClick:J,isSelected:l=>N==="caution"&&A.includes(l),headerClass:"text-yellow-400 border-yellow-800"}),e.jsx(K,{title:"Not Recommended",list:R.notRecommended,listName:"notRecommended",onClick:J,isSelected:l=>N==="notRecommended"&&A.includes(l),headerClass:"text-orange-400 border-orange-800"}),e.jsx(K,{title:"Not Compatible",list:R.notCompatible,listName:"notCompatible",onClick:J,isSelected:l=>N==="notCompatible"&&A.includes(l),headerClass:"text-red-400 border-red-800"})]})]})]})]}),H.show&&e.jsx(Q,{title:H.title,message:H.message,onClose:()=>$({...H,show:!1})})]})},ze=({jsonString:o,onClose:p,onDownload:b})=>{const[c,d]=i.useState("Copy"),m=()=>{const u=document.createElement("textarea");u.value=o,u.style.top="0",u.style.left="0",u.style.position="fixed",document.body.appendChild(u),u.focus(),u.select();try{document.execCommand("copy"),d("Copied!"),setTimeout(()=>d("Copy"),2e3)}catch(V){console.error("Failed to copy text: ",V),d("Failed!"),setTimeout(()=>d("Copy"),2e3)}document.body.removeChild(u)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-6 max-w-4xl w-full mx-auto flex flex-col max-h-[85vh] animate-fade-in-down",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-600 pb-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-yellow-300",children:"Generated JSON Data"}),e.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-600 text-white hover:bg-gray-700 transition",title:"Close",children:e.jsx(oe,{})})]}),e.jsx("pre",{className:"flex-grow bg-gray-900 p-4 rounded-lg overflow-auto text-sm",children:e.jsx("code",{children:o})}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:p,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Close"}),e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:[e.jsx(Se,{}),e.jsx("span",{children:c})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition transform hover:scale-105 shadow-md",children:[e.jsx(Ne,{}),e.jsx("span",{children:"Download"})]})]})]})})},Te=be(function(){const[p,b]=i.useState([]),[c,d]=i.useState([]),[m,u]=i.useState("freshwater"),[V,B]=i.useState(!0),[F,T]=i.useState(null),[I,S]=i.useState(!1),[O,y]=i.useState(!1),[R,G]=i.useState(!1),[A,W]=i.useState(!1),[N,X]=i.useState(""),[H,$]=i.useState(null),[J,z]=i.useState(!1),[M,P]=i.useState(null),[l,j]=i.useState({title:"",message:"",show:!1}),w=i.useRef(null),k=i.useRef({}),[U,C]=i.useState(!1),L=s=>s.map(t=>({id:te(t.name),name:t.name,commonNames:t.commonNames||[],imageURL:t.imageURL,compatible:t.compatible||[],caution:t.withCaution||[],notRecommended:t.notRecommended||[],notCompatible:t.notCompatible||[]}));i.useEffect(()=>{try{b(L(Z.freshwater||[]).sort((s,t)=>s.name.localeCompare(t.name))),d(L(Z.marine||[]).sort((s,t)=>s.name.localeCompare(t.name)))}catch(s){T(`Failed to process local fish data: ${s.message}`),console.error("Failed to process local fish data:",s)}finally{B(!1)}},[]),i.useEffect(()=>{const s=t=>{U&&(t.preventDefault(),t.returnValue="")};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[U]);const Y=(s,t,r,a)=>{const g={id:te(s),name:s,commonNames:t.split(",").map(n=>n.trim()),imageURL:r,compatible:[s],caution:[],notRecommended:[],notCompatible:[]},v=n=>[...n,g].sort((f,h)=>f.name.localeCompare(h.name));a==="freshwater"?b(v):d(v),C(!0),y(!1),u(a),$(g),S(!0)},le=(s,t)=>{const r=s.name,a=t.name,g=v=>{const n=new Map(v.map(h=>[h.name,{...h}]));n.has(r)&&n.delete(r),r!==a&&["compatible","caution","notRecommended","notCompatible"].forEach(h=>{const x=t[h],E=x.indexOf(r);E>-1&&(x[E]=a)}),t.compatible.includes(a)||t.compatible.push(a),t.compatible.sort(),n.set(a,{...t,name:a});const f=(h,x)=>h.compatible.includes(x)?"compatible":h.caution.includes(x)?"caution":h.notRecommended.includes(x)?"notRecommended":h.notCompatible.includes(x)?"notCompatible":"available";for(const[h,x]of n.entries()){if(x.id===t.id)continue;r!==a&&["compatible","caution","notRecommended","notCompatible"].forEach(D=>{const ee=x[D],se=ee.indexOf(r);se>-1&&(ee[se]=a,ee.sort())});const E=f(s,h),q=f(t,h);E!==q&&(E!=="available"&&(x[E]=x[E].filter(D=>D!==a)),q!=="available"&&(x[q].includes(a)||(x[q].push(a),x[q].sort())))}return Array.from(n.values()).sort((h,x)=>h.name.localeCompare(x.name))};m==="freshwater"?b(g):d(g),C(!0),S(!1)},ae=(s,t)=>{P({id:s,name:t}),z(!0)},ne=()=>{if(!M)return;const s=t=>{let r=t.filter(a=>a.id!==M.id);return r=r.map(a=>({...a,compatible:a.compatible.filter(g=>g!==M.name),caution:a.caution.filter(g=>g!==M.name),notRecommended:a.notRecommended.filter(g=>g!==M.name),notCompatible:a.notCompatible.filter(g=>g!==M.name)})),r};m==="freshwater"?b(s):d(s),C(!0),z(!1),P(null)},re=()=>{B(!0);try{b(L(Z.freshwater||[]).sort((s,t)=>s.name.localeCompare(t.name))),d(L(Z.marine||[]).sort((s,t)=>s.name.localeCompare(t.name))),C(!0),j({title:"Success",message:"Data has been reset to the original state!",show:!0})}catch(s){T(`Failed to reset data: ${s.message}`),console.error("Failed to reset data:",s)}finally{B(!1),G(!1)}},ie=s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(!t)return;const r=new FileReader;r.onload=g=>{var v;try{const n=(v=g.target)==null?void 0:v.result,f=JSON.parse(n);b(L(f.freshwater||[]).sort((h,x)=>h.name.localeCompare(x.name))),d(L(f.marine||[]).sort((h,x)=>h.name.localeCompare(x.name))),C(!0),j({title:"Success",message:"Data loaded from file!",show:!0})}catch(n){T(`Failed to parse file: ${n.message}`),console.error("Failed to parse file:",n)}},r.readAsText(t)},ce=()=>{const s=r=>r.map(a=>{const{id:g,caution:v,...n}=a,f={...n,withCaution:v};return f.commonNames||delete f.commonNames,f.imageURL||delete f.imageURL,(!f.notRecommended||f.notRecommended.length===0)&&delete f.notRecommended,f}),t={freshwater:s(p),marine:s(c)};X(JSON.stringify(t,null,2)),C(!1),W(!0)},de=()=>{const s=new Blob([N],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download="fishcompat.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},me=s=>{var t;(t=k.current[s])==null||t.scrollIntoView({behavior:"smooth",block:"start"})},ue=()=>{window.scrollTo({top:0,behavior:"smooth"})},xe=s=>{const t=`${s.name} (Duplicate)`,r={...s,id:te(t),name:t,compatible:[...s.compatible,t]},a=g=>{let v=[...g,r];return v=v.map(n=>{if(n.id===r.id)return n;const f=n.compatible.includes(s.name)?[...n.compatible,t].sort():n.compatible,h=n.caution.includes(s.name)?[...n.caution,t].sort():n.caution,x=n.notRecommended.includes(s.name)?[...n.notRecommended,t].sort():n.notRecommended,E=n.notCompatible.includes(s.name)?[...n.notCompatible,t].sort():n.notCompatible;return{...n,compatible:f,caution:h,notRecommended:x,notCompatible:E}}),v.sort((n,f)=>n.name.localeCompare(f.name))};m==="freshwater"?b(a):d(a),C(!0),S(!1),setTimeout(()=>{$(r),S(!0)},100)},he=i.useMemo(()=>{const s=m==="freshwater"?p:c,t=new Set(s.map(r=>r.name.charAt(0).toUpperCase()));return Array.from(t).sort()},[m,p,c]),pe=s=>{if(F)return e.jsx("div",{className:"text-center text-red-400 text-lg py-10",children:F});if(s.length===0&&!V)return e.jsx("div",{className:"text-center text-gray-400 text-lg py-10",children:"No fish data available."});let t="";return e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.map(r=>{const a=r.name.charAt(0).toUpperCase(),g=a!==t;return g&&(t=a),e.jsx("div",{ref:g?v=>{k.current[a]=v}:null,children:e.jsx(Le,{fish:r,onEdit:v=>{$(v),S(!0)},onDelete:ae})},r.id)})})};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans animate-fade-in",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-sm shadow-md",children:e.jsxs("nav",{className:"container mx-auto px-6 lg:px-10 py-3 text-sm text-gray-400",children:[e.jsx(ge,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),e.jsx("span",{className:"mx-2",children:">"}),e.jsx("span",{className:"text-white",children:"Compatibility Guide"})]})}),e.jsxs("div",{className:"p-6 lg:p-10 pr-12 lg:pr-16",children:[e.jsx(Me,{letters:he,onLetterClick:me,onScrollToTop:ue}),e.jsxs("div",{className:"max-w-full px-4",children:[e.jsxs("header",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-400 mb-2",children:"Fish Compatibility Guide"}),e.jsx("p",{className:"text-lg text-gray-400",children:"Manage your fish compatibility data."})]}),e.jsxs("div",{className:"bg-gray-800 rounded-3xl p-4 lg:p-6 shadow-2xl mb-8 border border-gray-700",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex space-x-2 p-1 bg-gray-900 rounded-full shadow-inner",children:[e.jsx("button",{onClick:()=>u("freshwater"),className:`px-5 py-2 rounded-full font-semibold transition-all duration-300 ${m==="freshwater"?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"}`,children:"Freshwater Fish"}),e.jsx("button",{onClick:()=>u("saltwater"),className:`px-5 py-2 rounded-full font-semibold transition-all duration-300 ${m==="saltwater"?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"}`,children:"Saltwater Fish"})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("input",{type:"file",ref:w,onChange:ie,accept:".json",className:"hidden"}),e.jsxs("button",{onClick:()=>{var s;return(s=w.current)==null?void 0:s.click()},className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-700 transition transform hover:scale-105",children:[e.jsx(Re,{}),e.jsx("span",{children:"Load from File"})]}),e.jsxs("button",{onClick:ce,className:`flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white font-semibold rounded-full shadow-lg hover:bg-teal-700 transition transform hover:scale-105 relative ${U?"animate-pulse":""}`,children:[U&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),e.jsx(Ce,{}),e.jsx("span",{children:"View/Export JSON"})]}),e.jsxs("button",{onClick:()=>G(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white font-semibold rounded-full shadow-lg hover:bg-purple-700 transition transform hover:scale-105",children:[e.jsx(ye,{}),e.jsx("span",{children:"Reset Data"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white font-semibold rounded-full shadow-lg hover:bg-green-700 transition transform hover:scale-105",children:[e.jsx(fe,{}),e.jsx("span",{children:"Add New Fish"})]})]})]}),V?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):pe(m==="freshwater"?p:c)]})]}),O&&e.jsx(Ie,{onSave:Y,onClose:()=>y(!1),activeTab:m}),I&&H&&e.jsx(Ae,{fishData:H,onSave:le,onClose:()=>S(!1),onCopy:xe,freshwaterFish:p,saltwaterFish:c,activeTab:m}),J&&M&&e.jsx(Q,{title:"Confirm Deletion",message:`Are you sure you want to delete "${M.name}"? This action and all its references cannot be undone.`,onClose:()=>z(!1),onConfirm:ne,showConfirm:!0}),R&&e.jsx(Q,{title:"Confirm Reset",message:"Are you sure you want to reset all data? This will discard all your local changes.",onClose:()=>G(!1),onConfirm:re,showConfirm:!0}),l.show&&e.jsx(Q,{title:l.title,message:l.message,onClose:()=>j({...l,show:!1})}),A&&e.jsx(ze,{jsonString:N,onClose:()=>W(!1),onDownload:de})]})]})});export{Te as default,Ve as meta};
